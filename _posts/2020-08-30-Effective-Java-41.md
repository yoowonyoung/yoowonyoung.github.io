---
layout: post
title: "Effective Java - 아이템41: 정의하려는것이 타입이라면 마커 인터페이스를 사용하라"
description: 정의하려는것이 타입이라면 마커 인터페이스를 사용하라
date: 2020-08-30 19:41:00 +09:00
categories: EffectiveJava Study
---


# 열거타입과 어노테이션

## 아이템 41 : 정의하려는것이 타입이라면 마커 인터페이스를 사용하라

- 아무 메서드도 담고 있지 않고, 단지 자신을 구현하는 클래스가 특정 속성을 가짐을 표시해주는 인터페이스를 마커 인터페이스라고 한다
- Serializable 가 그 좋은예로, Serializable은 자신을 구현한 클래스의 인터페이스는 ObjectOutputStream을 통해 쓸 수 있다고, 즉 직렬화 할 수 있다고 알려준다
- 마커 어노테이션이 등장하면서 마커 인터페이스는 구식이 되었다는 이야기를 들어본적이 있을것이다. 하지만 이는 사실이 아니다. 마커 인터페이스는 마커 어노테이션에 비해 2가지면에서 장점을 가진다
    * 마커 인터페이스느 이를 구현한 클래스의 인스턴스들을 구분하는 타입으로 쓸 수 있으나, 어노테이션은 아니다. 마커 인터페이스는 어였한 타입이기 때문에 마커 어노테이션을 적용하면 런타임에 발견될 오류를 컴파일 타입에 잡을 수 있다
    * 마커 인터페이스는 적용 대상을 더 정밀하게 지정할 수 있다. 적용 대상을 ElementType.TYPE으로 선언한 어노테이션은 모든 타입에 달 수 있어서, 부착할 수 있는 타입을 더 세밀하게 제한 할 수 없다

- 반대로 마커 어노테이션이 마커 인터페이스에 비해 나은점으로는 거대한 어노테이션시트엠의 지원을 받는다는 점이다. 따라서 어노테이션을 적극 활용하는 프레임워크에서는 마커 어노테이션을 쓰는쏙이 일관성을 지키는데 도움이 된다
- 클래스와 인터페이스외의 프로그램 요소(모듈, 패키지, 필드, 지역변수)에 마킹해야할 때에는 어노테이션을 쓸 수밖에 없다. 마커 인터페이스는 인터페이스이기 때문에, 클래스나 인터페이스만이 이것을 구현하거나 확장할 수 있기 때문이다
- 마커를 클래스나 인스턴스에 적용해야 한다면 "이 마킹이 된 객체를 매개변수로 받는 메서드를 작성할일이 있을까" 를 생각해보라. 대답이 "그렇다"이면, 마커 인터페이스를 써야한다. 그래야만이 컴파일 타임에 오류를 잡을 수 있다
    * 이런 메서드를 작성할일이 절대 없다고 확신이 든다면, 아마도 마커 어노테이션이 나은 선택일것이다

- 이번 아이템은 "타입을 정의할거 라면 인터페이스를 써라"라고 해석 할수도 있으니, 어떤 의미에서는 "타입을 정의할게 아니라면 인터페이스를 사용하지 말라"라고 한 아이템 22를 뒤집은거라고 볼수 있다