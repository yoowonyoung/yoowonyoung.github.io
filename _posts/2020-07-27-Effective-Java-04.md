---
layout: post
title: "Effective Java - 아이템4: 인스턴스화를 막으려거든 private 생성자를 사용하라"
description: 인스턴스화를 막기 위한 private생성자
date: 2020-07-27 21:23:00 +09:00
categories: EffectiveJava Study
---


# 객체의 생성과 파괴

## 아이템 4 : 인스턴스화를 막으려거든 private 생성자를 사용하라

- java.lang.Math와 java.util.Arrays 처럼 기본 타입 값이나, 배열 관련 메서드를 모아놓은 클래스처럼 단순히 정적 메서드와 정적 필드만을 담은 클래스를 만들 때가 있다
- 혹은 java.util.Collections처럼 특정 인터페이스를 구현하는 객체를 생성해주는 정적 메서드를 모아놓을 수 도 있으며, final클래스와 관련한 메서드를 모아놓을 때 도 사용한다
- 이런 클래스들은 인스턴스로 만들어 쓰려고 설계한게 아니지만, 생성자를 명시하지 않으면 컴파일러가 자동으로 매개변수를 받지 않는 public 생성자를 만들어 준다
- 단순히 추상 클래스로 만드는 것으로는 이러한 인스턴스화를 막을 수 없다. 하위 클래스를 만들어 인스턴스화 하면 그만이기 떄문이다
- 컴파일러가 기본 생성자를 만들어 주는 경우는, 생성자가 명시되지 않은 상황 뿐이니, privat생성자를 추가하면 클랴스의 인스턴스화를 막을 수 있다

```java
public class UtilityClass {
    // 인스턴스화 방지
    private UtilityClass() {
        throw new AssertionError();
    }
}
```

- 명시적 생성자가 private이니 클래스 바깥에서는 접근 할 수 없다
- 꼭 AssertionError를 던질 필요는 없지만, 클래스 안에서 실수로라도 생성자를 호출 하지 않도록 도와준다
- 하지만 이런 코드는 직관적이지 않으니, 위의 코드처럼 적절한 주석을 달아두면 좋다
- 이러한 방식은 상속을 불가능 하게 하는 효과도 있다. 모든 생성자는 상위 클래스를 호출해야 하지만 private로 선언 되있어서 호출 할 길이 막혔기 떄문이다