---
layout: post
title: "Effective Java - 아이템51: 메서드 시그니처를 신중히 설계해라"
description: 메서드 시그니처를 신중히 설계해라
date: 2020-09-05 20:12:00 +09:00
categories: EffectiveJava Study
---


# 메서드

## 아이템 51 : 메서드 시그니처를 신중히 설계해라

- 이번 아이템에는 개별 아이템으로 두기 애매한 API 설계 요령을 모아두었다
- 메서드 이름을 신중히 지어야 한다
    * 항상 표준 명명 규칙을 따라야 한다
    * 이해할 수 있고, 같은 패키지에 속한 다른 이름들과 일관되게 짓는게 최우선 목표이다
    * 그 다음 목표는 개발자 커뮤니티에서 널리 받아들여지는 이름을 사용해야 한다
    * 긴이름은 피해야 한다. 애매하면 자바 라이브러리의 API가이드를 참조하라

- 편의 메서드를 너무 많이 만들지 말라
    * 모든 메서드는 각각 자신의 소임을 다해야 한다
    * 메서드가 너무 많은 클래스는 익히고, 사용하고, 문서화하고, 테스트하고, 유지보수하기 어렵다
    * 인터페이스도 마찬가지 이다. 메서드가 너무 많으면 이를 구현하는 사람과 사용하는 사람 모두를 고통스럽게 한다
    * 클래스나 인터페이스는 자신의 각 기능을 완벽히 수행하는 메서드로 제공해야 한다
    * 아주 자주 쓰일경우에만 별도의 약칭 메서드를 두길 바란다. 확신이 서지 않으면 만들지 마라

- 매개변수 목록은 짧게 유지하자
    * 일반적으로 4개 이하가 좋다. 4개가 넘어가면 매개변수를 전부 기억하기가 쉽지 않다
    * 같은 타입의 매개변수가 여러개 연달아 나오는 경우가 특히 해로운데, 사용자가 매개변수 순서를 기억하기 힘들고 순서를 바꿔서 입력해도 실행이 되어버리기 때문이다
    * 긴 매개변수 목록은 다음과 같이 줄일 수 있다
        + 여러 메서드로 쪼갠다. 쪼개진 메서드는 각각의 원래 매개변수 목록의 부분집합을 받는다. 잘못하면 메서드가 너무 많아질 수 있지만, 직교성을 높혀 오이려 메서드 수를 줄여주는 효과도 있다
        + 매개변수 여러개를 묶어주는 도우미 클래스를 만들자. 일반적으로 이런 도우미 클래스는 정적 멤버 클래스로 둔다. 특히 잇따른 매개변수 몇개를 독립하거나 하나의 개념으로 볼수 있을때 추천하는 기법이다
        + 객체 생성에 사용한 빌더 패턴을 메서드 호출에 응용하는것이다. 모든 매개변수를 하나로 추상화한 객체를 정의하고, 클라이언트에서 이 객체의 세터를 호출해 필요한 값을 설정하게 하는것이다. 이때 각 세터 메서드는 매개변수 하나 혹은 서로 연관된 몇개만 설정되게 한다. 그 후 execute 메서드를 호출해 앞서 설정한 매개변수들의 유효성을 검사한다. 마지막으로 설정이 완료된 객체를 넘겨 원하는 연산을 수행한다

- 매개변수의 타입으로는 클래스보다는 인터페이스가 더 낫다
    * 매개변수로 적합한 인터페이스가 있다면, 이를 구현한 클래스가 아닌 그 인터페이스를 직접 사용하자
    * 메서드에 HashMap을 넘기는것이 아닌 Map을 받게 함으로써, TreeMap, ConcurrentHashMap, TreeMap등 어떤 Map 구현체도 받도록 하는것이다
    * 인터페이스 대신 클래스를 사용하면 클라이언트에게 특정 구현체만 사용하도록 제한하는 꼴이되며, 혹시라도 입력데이터가 다른 형태로 존재한다면 명시한 특정 구현체로 옮겨담느라 비싼복사비용을 치뤄야 한다

- boolean 원소보다는 원소 2개짜리 열거타입이 낫다(메서드 이름상 boolean을 받아야 명확할때는 예외이다)
    * 열거타입을 사용하면 코드를 읽고 쓰기가 더 쉬워진다
    * 나중에 선택지를 추가하기도 쉽다
    * 예를들어 섭씨온도와 화씨온도를 원소로 정의한 열거타입에서 켈빈 온도를 지원해야한다면 열거타입에 추가만 하면 되는것이다
    * 또한 이런 온도단위에 대한 의존성을 개별 열거타입 상수의 메서드 안으로 리팩터링 해서 넣을 수 있다