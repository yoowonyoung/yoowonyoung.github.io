<!DOCTYPE html>
<html lang=" en "><head>
  <meta charset="utf-8">
  <title>Wonyoung yoo - Software Engineer</title>
  <meta http-equip="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Software Engineer and Amateur Photographer">
  <link rel="stylesheet" href="https://yoowonyoung.github.io/devlopr-starter/assets/css/main.css" />
  <link rel="stylesheet" href="https://yoowonyoung.github.io/devlopr-starter/assets/css/custom-style.css" />
  <link rel="icon" href="https://yoowonyoung.github.io/devlopr-starter/assets/img/favicon.ico" type="image/gif" sizes="16x16">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
    integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Including Snipcart -->
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css" />
  <!-- Including InstantSearch.js library and styling -->
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
  <script>
    (function (d, h, m) {
      var js, fjs = d.getElementsByTagName(h)[0];
      if (d.getElementById(m)) { return; }
      js = d.createElement(h); js.id = m;
      js.onload = function () {
        window.makerWidgetComInit({
          position: "right",
          widget: "ofeeof264otl2l5g-zspk40eq2gaomj2n-higi2qphmveubksi"
        })
      };
      js.src = "https://makerwidget.com/js/embed.js";
      fjs.parentNode.insertBefore(js, fjs)
    }(document, "script", "dhm"))
  </script>

  

</head><body>
    <div class="container-fluid"><header>

    <div class="col-lg-12">
        <div class="row">
            <div class="col-md-2 center">
                <a href="/">
                    <img src="/assets/img/profile.jpg" class="profile-img">
                </a>
            </div>
          
            <div class="col-md-4" id="author_details">
                <h1 class="profile-name"> Wonyoung yoo</h1>
                <p class="profile-bio"> Software Engineer</p>
                <p class="profile-links">
                    
                    
                    
                    <a class="social-link" href="http://instagram.com/dnjsdud0105">
                        <i class="fab fa-instagram"></i>
                    </a>
                    
                    
                    
                    <a class="social-link" href="http://github.com/yoowonyoung">
                        <i class="fab fa-github"></i>
                    </a>
                    
                    
                    
                    <a class="social-link" href="http://linkedin.com/in/원영-유-2b2147121">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    
                    
                </p>

            </div>
            <div class="col-md-6 center">
     
                    <ul class="nav justify-content-end" id="navigation">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/">About</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/shop">Shop</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/sample-page">Sample Page</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact Me</a>
                    </li>
                     
                     <li class="nav-item">
                         <a class="nav-link" href="https://yoowonyoung.github.io/search/"><i class="fa fa-search" aria-hidden="true"></i></a>
                     </li>
                     <li class="nav-item">
                         <button class="header__checkout snipcart-checkout">

                                <svg width="31" height="27" viewBox="0 0 31 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M1.10512 0.368718C0.560256 0.368718 0.118164 0.812066 0.118164 1.35848C0.118164 1.9049 0.560256 2.34824 1.10512 2.34824H4.90887L8.30138 18.4009C8.43503 19.0053 8.83085 19.5079 9.32946 19.5041H25.7788C26.3005 19.5118 26.7799 19.0375 26.7799 18.5143C26.7799 17.9911 26.3006 17.5168 25.7788 17.5245H10.1315L9.71003 15.545H27.095C27.5371 15.5412 27.9547 15.2048 28.0511 14.7718L30.354 4.87412C30.4825 4.29933 29.9852 3.67172 29.3979 3.66786H7.21171L6.6771 1.15221C6.58329 0.71276 6.15921 0.368652 5.7107 0.368652L1.10512 0.368718ZM7.623 5.64746H12.7634L13.2569 8.61674H8.25005L7.623 5.64746ZM14.7785 5.64746H20.9881L20.4946 8.61674H15.2719L14.7785 5.64746ZM23.0031 5.64746H28.1537L27.4649 8.61674H22.5097L23.0031 5.64746ZM8.67181 10.5963H13.5862L14.0797 13.5656H9.29919L8.67181 10.5963ZM15.6009 10.5963H20.1656L19.6721 13.5656H16.0944L15.6009 10.5963ZM22.1807 10.5963H27.0023L26.3135 13.5656H21.6872L22.1807 10.5963ZM12.6197 20.164C10.8141 20.164 9.32979 21.6525 9.32979 23.4632C9.32979 25.2739 10.8141 26.7624 12.6197 26.7624C14.4252 26.7624 15.9095 25.2739 15.9095 23.4632C15.9095 21.6525 14.4252 20.164 12.6197 20.164ZM22.4892 20.164C20.6837 20.164 19.1994 21.6525 19.1994 23.4632C19.1994 25.2739 20.6837 26.7624 22.4892 26.7624C24.2948 26.7624 25.7791 25.2739 25.7791 23.4632C25.7791 21.6525 24.2948 20.164 22.4892 20.164ZM12.6197 22.1435C13.3586 22.1435 13.9356 22.7222 13.9356 23.4632C13.9356 24.2042 13.3586 24.7829 12.6197 24.7829C11.8807 24.7829 11.3037 24.2042 11.3037 23.4632C11.3037 22.7222 11.8807 22.1435 12.6197 22.1435ZM22.4892 22.1435C23.2282 22.1435 23.8052 22.7222 23.8052 23.4632C23.8052 24.2042 23.2282 24.7829 22.4892 24.7829C21.7503 24.7829 21.1733 24.2042 21.1733 23.4632C21.1733 22.7222 21.7503 22.1435 22.4892 22.1435Z"
                                    fill="#9094FF" class="header__checkout-fill"></path>
                                </svg>
                                <span class="snipcart-items-count"></span>
                                <!-- <span class="snipcart-total-price"></span> -->
                              </button>
                        </li>
                    </ul>
      
            </div>
        </div>
    </div>

</header><div class="col-lg-12">
          
            <!-- Blog Post Breadcrumbs --><nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/blog">Blog</a>
            </li>
            <li class="breadcrumb-item">
                <a href="/blog/categories">Categories</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Kotlin Study - 05 람다로 프로그래밍 -2</li>
        </ol>
    </nav>
<div class="row">

        <div class="col-lg-8"><article class="card" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="card-header">
        <!-- <h1 class="post-title" itemprop="name headline">Kotlin Study - 05 람다로 프로그래밍 -2</h1> -->
        <h4 class="post-meta"></h4>
        <p class="post-summary">Posted by :  at
            <time datetime="2019-08-07 23:16:00 +0000" itemprop="datePublished">Aug 7, 2019</time>
        </p>
        <span class="disqus-comment-count" data-disqus-identifier="/kotlin/study/2019/08/07/Kotlin-09/"></span>     
        <div class="post-categories">
            
            Category : 
            <a href="/devlopr-starter/blog/categories/kotlin">kotlin</a>
            &nbsp; 
            <a href="/devlopr-starter/blog/categories/study">study</a>
             
        </div>
    </div>

    <div class="card-body" itemprop="articleBody">
        <img class="card-img-top" src="/assets/img/posts/" alt=""> 
        <br/> <br/>
        <h1 id="람다로-프로그래밍">람다로 프로그래밍</h1>

<h2 id="지연-계산lazy-컬렉션-연산">지연 계산(lazy) 컬렉션 연산</h2>
<ul>
  <li>map이나 filter 같은 컬렉션 함수는 결과 컬렉션을 즉시 생성한다</li>
  <li>즉 이러한 컬렉션 함수를 중첩 한다면 매 단계마다 계산 중간 결과를 새로운 컬렉션에 임시로 담기 때문에 효율이 떨어진다</li>
  <li>이럴 경우 각 연산이 컬렉션을 직접 사용 하는 대신 시퀀스를 사용하게 만들어야 한다</li>
  <li>코틀린의 지연 계산 시퀀스는 Sequence 인터페이스에서 시작 하며, 그 안에는 iterator 메소드 단 하나만이 존재 한다</li>
  <li>시퀀스의 원소는 필요할때 비로소 계산 되기 때문에, 효율적인 계산이 가능하다</li>
  <li>asSequence 확장 함수를 호출 하면 어떤 컬렉션이든 시퀀스로 바꿀 수 있다.</li>
</ul>

<h3 id="시퀀스-연산-실행-중간-연산과-최종-연산">시퀀스 연산 실행: 중간 연산과 최종 연산</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>listOf(1,2,3,4).asSequence()
  .map { print("map($it) "); it * it }
  .filter { print("filter($it) "); it % 2 == 0 }
  .toList()

=&gt; map(1) filter(1) map(2) filter(4) map(3) filter(9) map(4) filter(16)
</code></pre></div></div>

<ul>
  <li>toList 라는 최종 연산이 없을 경우에 해당 코드를 실행하면 아무것도 출력 되지 않는다 &lt;= 계산을 하지 않기 때문이다</li>
  <li>원소의 계산 순서를 눈여겨 보라. 하나의 원소에 대해 순차적으로 연산이 실행됨을 알 수 있다</li>
  <li>따라서 원소에 연산을 차례대로 적용하다가 결과가 얻어지면 그 이후의 원소에는 계산이 안 이뤄질 수 있다</li>
  <li>이를 이용 하여 filter 등을 다른 중간 연산보다 먼저 실행 한다면 더욱 효율 적으로 할 수 있다</li>
</ul>

<h3 id="시퀀스-만들기">시퀀스 만들기</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val naturalNumbers = generateSequence(0) { it + 1 }
val numbersTo100 = naturalNumbers.takeWhile { it &lt;= 100 }
println(numbersTo100.sum())

=&gt; 5050
</code></pre></div></div>

<ul>
  <li>asSequence 이외에 generateSeuqnce를 사용 하여 시퀀스를 만들 수 있다</li>
  <li>naturalNumbers, numbersTo100 모두 시퀀스 이며, 최종 연산인 sum을 수행 하기 전까지는 계산이 되지 않는다</li>
  <li>시퀀스를 사용하는 일반적인 용례중 하나는 객체의 조상으로 이뤄진 시퀀스를 만들어 내는 것이다</li>
</ul>

<h2 id="java-함수형-인터페이스-활용">java 함수형 인터페이스 활용</h2>
<ul>
  <li>코틀린 람다는 java API에 사용해도 아무런 문제가 없다</li>
  <li>추상 메소드가 단 하나만 있는 함수형 인터페이스 혹은 SAM(Single Abstract Method) 인터페이스를 인자로 취하는 java 메소드를 호출할때 람다를 쓸 수있다</li>
</ul>

<h3 id="java-메소드에-람다를-인자로-전달">java 메소드에 람다를 인자로 전달</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void postponeComputation( int delay, Runnable computation);

postponeComputation(1000) {println(42)}

postponeComputation(1000, object: Runnable {
  override fun run() {
    println(42)
  }
})

fun handleComputation(id: String) {
  postponeComputation(1000) {println(id)}
}
</code></pre></div></div>

<ul>
  <li>Runnable이 대표적인 java의 SAM 인터페이스다. 따라서 이러한 변환은 자동으로 이뤄진다</li>
  <li>따라서 위의 두 코드는 같은 코드이다</li>
  <li>객체를 명시적으로 선언하는 경우 메소드 호출 시마다 새 객체가 생성 되지만, 람다의 경우 무명 객체를 메소드 호출때마다 반복하여 사용한다</li>
  <li>변수 포획이 가능한 코틀린 람다의 특성을 이용해 변수를 포획한다면, 매 호출마다 새로운 인스턴스가 생성 될 것이다</li>
</ul>

<h3 id="sam-생성자-람다를-함수형-인터페이스로-명시적으로-변경">SAM 생성자: 람다를 함수형 인터페이스로 명시적으로 변경</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>val listener = OnClickListener { view -&gt;
  val text = when (view.id) {
    R.id.button1 -&gt; "First button"
    R.id.button2 -&gt; "Second button"
    else -&gt; "Other button"
  }
  toast(text)
}

button1.setOnclickListener(listener)
button2.setOnclickListener(listener)
</code></pre></div></div>

<ul>
  <li>함수형 인터페이스의 인스턴스를 반환하는 메소드가 있다면 람다를 직접 반환 할 수 없고, 해당 람다를 SAM 생성자로 감싸야 한다</li>
  <li>SAM 생성자의 이름은 사용 하려는 함수형 인터페이스의 이름과 같다</li>
  <li>람다로 생성한 함수형 인터페이스의 인스턴스르 변수에 저장하는 경우에도 SAM 생성자를 이용 할 수 있다</li>
  <li>위의 코드가 그러한 특성을 사용해 하나의 리스너를 여러 버튼에 적용 한 것이다</li>
  <li>람다로 만든 리스너는, 람다로 만들어진 무명 클래스의 인스턴스를 참조할 방법이 없으므로, 만약 리스너 등록 해제가 필요 할 경우는 람다를 쓸 수 없다</li>
</ul>

<h2 id="수신-객체-지정-람다-with와-apply">수신 객체 지정 람다: with와 apply</h2>

<h3 id="with-함수">with 함수</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun alphabet(): String {
  val stringBuilder = StringBuilder()
  return with(stringBuilder) {
    for( letter in 'A'..'Z' ) {
      this.append(letter)
    }
    toString()
  }
}
</code></pre></div></div>

<ul>
  <li>어떤 객체의 이름을 반복하지 않고 그 객체에 다양한 연산을 할 수 있게 해주는 것이 with이다</li>
  <li>with뒤에 수신 객체를 지정 한 후, this를 통해 해당 객체를 부르고 있다</li>
  <li>이러한 this는 생략이 가능 하다</li>
  <li>하지만 같은 이름의 메서드가 존재 할때에는 this를 적절히 명시하여주는것이 좋다</li>
  <li>with는 사실 파라미터로 stringBuilder와 람다를 받은 것이며, 람다를 괄호 밖으로 빼낸 것이다</li>
</ul>

<h3 id="apply함수">apply함수</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun alphabet() = StringBuilder().apply {
  for( letter in 'A'..'Z' ) {
      this.append(letter)
  }
}.toString()
</code></pre></div></div>

<ul>
  <li>apply는 거의 with와 비슷 하지만, apply는 항상 자기 자신에게 전달된 객체인 수신 객체를 반환한다</li>
  <li>이러한 apply함수는 객체의 인스턴스를 만들면서 즉시 프로퍼티중 일부를 초기화 해야 하는 경우 유용하다</li>
  <li>with와 apply같은 수신 객체 지정 람다는 DSL(Domain Specific Language), 영역 특화 언어를 만들때 매우 유용하다</li>
</ul>

<h2 id="요약">요약</h2>
<ul>
  <li>람다를 사용하면 코드 조각을 다른 함수에 인자로 넘길 수 있다</li>
  <li>코들린에서는 람다가 함수 인자인 경우 괄호 밖으로 빼고 람다를 빼낼 수 있다</li>
  <li>람다의 인자가 단 하나 뿐인 경우 인자의 이름을 지정 하지않고 it 라는 디폴트 이름으로 사용 할 수 있다</li>
  <li>람다 안에 있는 코드는 그 람다가 들어 있는 바깥 함수의 변수를 읽거나 쓸 수 있다</li>
  <li>메소드, 생성자, 프로퍼티 이름 앞에 :: 을 붙이면 각각에 대한 참조를 만들 수 있다. 그러한 참조를 람다 대신 다른 함수에 넘길 수 있다</li>
  <li>filter, map, all, any 등의 함수를 활용 하면 컬렉션에 대한 대부분의 연산을 직접 원소를 이터레이션 하지 않고 수행 할 수 있다</li>
  <li>시퀀스를 사용하면 중간 결과를 담는 컬렉션을 생성하지 않고도 컬렉션에 대한 여러 조합을 할 수 있다</li>
  <li>함수형 인터페이스 (SAM 인터페이스)를 인자로 받는 java 함수를 호출 할 경우 직접 람다를 함수형 인터페이스 인자 대신 넘길 수 있다</li>
  <li>수신 객체 지정 람다를 사용하면, 람다 안에서 미리 정해준 수신 객체의 메소드를 쓸 수 있다</li>
  <li>표준 라이브러리의 with함수로 어떤 객체에 대한 참조를 반복하지 않고 그 객체의 메소드를 호출 할 수 있다.</li>
  <li>apply는 어떤 객체라도 빌더 스타일의 api를 이용해 생성하고 초기화 할 수 있다</li>
</ul>

 
    </div>

    <div id="disqus_thread"></div>

</article>
<script>
    var disqus_config = function () {
        this.page.url = "https://yoowonyoung.github.io/kotlin/study/2019/08/07/Kotlin-09/"; /* Replace PAGE_URL with your page's canonical URL variable */
        this.page.identifier = "/kotlin/study/2019/08/07/Kotlin-09"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };


    (function () { /* DON'T EDIT BELOW THIS LINE */
        var d = document,
            s = d.createElement('script');
        s.src = 'https://.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript></div>
<div class="col-lg-4">
    <div class="card">
        <div class="card-header"> About </div>
        <div class="card-body text-dark">
            <!-- Your Bio -->
            <p> I'm a software Engineer and amateur photographer</p><!-- Place this tag where you want the button to render. -->
<a class="github-button" href="https://github.com/sujaykundu777/devlopr-jekyll" data-size="large" data-show-count="true" aria-label="Star sujaykundu777/devlopr-jekyll on GitHub">Star</a></div>
    </div>
    <div class="card">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- sidebar-horizontal-1 -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7259836434848202"
             data-ad-slot="7549410045"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    <div class="card">
        <div class="card-header">Categories </div>
        <div class="card-body text-dark">
             
            <div id="#guides"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/guides">guides</a>
            </li>
            <a name="guides"></a>

             
            <div id="#kotlin"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/kotlin">kotlin</a>
            </li>
            <a name="kotlin"></a>

             
            <div id="#study"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/study">study</a>
            </li>
            <a name="study"></a>

             
            <div id="#jekyll"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/jekyll">jekyll</a>
            </li>
            <a name="jekyll"></a>

            </div>
    </div>
</div></div> <!-- End of row-->
    

    

        </div>
<footer>

    <p> Powered by<a href="https://devlopr.netlify.com/readme"> devlopr jekyll</a>. Hosted at <a href="https://pages.github.com">Github</a>. Subscribe via
        <a href="/devlopr-starter /feed.xml ">RSS</a>
    </p>

</footer>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</div>
</body>

<div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div>
<script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script>
</html>
