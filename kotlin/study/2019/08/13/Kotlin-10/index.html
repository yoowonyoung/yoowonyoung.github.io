<!DOCTYPE html>
<html lang=" en "><head>
  <meta charset="utf-8">
  <title>Wonyoung yoo - Software Engineer</title>
  <meta http-equip="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Software Engineer and Amateur Photographer">
  <link rel="stylesheet" href="https://yoowonyoung.github.io/devlopr-starter/assets/css/main.css" />
  <link rel="stylesheet" href="https://yoowonyoung.github.io/devlopr-starter/assets/css/custom-style.css" />
  <link rel="icon" href="https://yoowonyoung.github.io/devlopr-starter/assets/img/favicon.ico" type="image/gif" sizes="16x16">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
    integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Including Snipcart -->
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css" />
  <!-- Including InstantSearch.js library and styling -->
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
  <script>
    (function (d, h, m) {
      var js, fjs = d.getElementsByTagName(h)[0];
      if (d.getElementById(m)) { return; }
      js = d.createElement(h); js.id = m;
      js.onload = function () {
        window.makerWidgetComInit({
          position: "right",
          widget: "ofeeof264otl2l5g-zspk40eq2gaomj2n-higi2qphmveubksi"
        })
      };
      js.src = "https://makerwidget.com/js/embed.js";
      fjs.parentNode.insertBefore(js, fjs)
    }(document, "script", "dhm"))
  </script>

  

</head><body>
    <div class="container-fluid"><header>

    <div class="col-lg-12">
        <div class="row">
            <div class="col-md-2 center">
                <a href="/">
                    <img src="/assets/img/profile.jpg" class="profile-img">
                </a>
            </div>
          
            <div class="col-md-4" id="author_details">
                <h1 class="profile-name"> Wonyoung yoo</h1>
                <p class="profile-bio"> Software Engineer</p>
                <p class="profile-links">
                    
                    
                    
                    <a class="social-link" href="http://instagram.com/dnjsdud0105">
                        <i class="fab fa-instagram"></i>
                    </a>
                    
                    
                    
                    <a class="social-link" href="http://github.com/yoowonyoung">
                        <i class="fab fa-github"></i>
                    </a>
                    
                    
                    
                    <a class="social-link" href="http://linkedin.com/in/원영-유-2b2147121">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    
                    
                </p>

            </div>
            <div class="col-md-6 center">
     
                    <ul class="nav justify-content-end" id="navigation">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/">About</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/shop">Shop</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/sample-page">Sample Page</a>
                    </li>
                     
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact Me</a>
                    </li>
                     
                     <li class="nav-item">
                         <a class="nav-link" href="https://yoowonyoung.github.io/search/"><i class="fa fa-search" aria-hidden="true"></i></a>
                     </li>
                     <li class="nav-item">
                         <button class="header__checkout snipcart-checkout">

                                <svg width="31" height="27" viewBox="0 0 31 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M1.10512 0.368718C0.560256 0.368718 0.118164 0.812066 0.118164 1.35848C0.118164 1.9049 0.560256 2.34824 1.10512 2.34824H4.90887L8.30138 18.4009C8.43503 19.0053 8.83085 19.5079 9.32946 19.5041H25.7788C26.3005 19.5118 26.7799 19.0375 26.7799 18.5143C26.7799 17.9911 26.3006 17.5168 25.7788 17.5245H10.1315L9.71003 15.545H27.095C27.5371 15.5412 27.9547 15.2048 28.0511 14.7718L30.354 4.87412C30.4825 4.29933 29.9852 3.67172 29.3979 3.66786H7.21171L6.6771 1.15221C6.58329 0.71276 6.15921 0.368652 5.7107 0.368652L1.10512 0.368718ZM7.623 5.64746H12.7634L13.2569 8.61674H8.25005L7.623 5.64746ZM14.7785 5.64746H20.9881L20.4946 8.61674H15.2719L14.7785 5.64746ZM23.0031 5.64746H28.1537L27.4649 8.61674H22.5097L23.0031 5.64746ZM8.67181 10.5963H13.5862L14.0797 13.5656H9.29919L8.67181 10.5963ZM15.6009 10.5963H20.1656L19.6721 13.5656H16.0944L15.6009 10.5963ZM22.1807 10.5963H27.0023L26.3135 13.5656H21.6872L22.1807 10.5963ZM12.6197 20.164C10.8141 20.164 9.32979 21.6525 9.32979 23.4632C9.32979 25.2739 10.8141 26.7624 12.6197 26.7624C14.4252 26.7624 15.9095 25.2739 15.9095 23.4632C15.9095 21.6525 14.4252 20.164 12.6197 20.164ZM22.4892 20.164C20.6837 20.164 19.1994 21.6525 19.1994 23.4632C19.1994 25.2739 20.6837 26.7624 22.4892 26.7624C24.2948 26.7624 25.7791 25.2739 25.7791 23.4632C25.7791 21.6525 24.2948 20.164 22.4892 20.164ZM12.6197 22.1435C13.3586 22.1435 13.9356 22.7222 13.9356 23.4632C13.9356 24.2042 13.3586 24.7829 12.6197 24.7829C11.8807 24.7829 11.3037 24.2042 11.3037 23.4632C11.3037 22.7222 11.8807 22.1435 12.6197 22.1435ZM22.4892 22.1435C23.2282 22.1435 23.8052 22.7222 23.8052 23.4632C23.8052 24.2042 23.2282 24.7829 22.4892 24.7829C21.7503 24.7829 21.1733 24.2042 21.1733 23.4632C21.1733 22.7222 21.7503 22.1435 22.4892 22.1435Z"
                                    fill="#9094FF" class="header__checkout-fill"></path>
                                </svg>
                                <span class="snipcart-items-count"></span>
                                <!-- <span class="snipcart-total-price"></span> -->
                              </button>
                        </li>
                    </ul>
      
            </div>
        </div>
    </div>

</header><div class="col-lg-12">
          
            <!-- Blog Post Breadcrumbs --><nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/blog">Blog</a>
            </li>
            <li class="breadcrumb-item">
                <a href="/blog/categories">Categories</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Kotlin Study - 06 코틀린의 타입 시스템 -1</li>
        </ol>
    </nav>
<div class="row">

        <div class="col-lg-8"><article class="card" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="card-header">
        <!-- <h1 class="post-title" itemprop="name headline">Kotlin Study - 06 코틀린의 타입 시스템 -1</h1> -->
        <h4 class="post-meta"></h4>
        <p class="post-summary">Posted by :  at
            <time datetime="2019-08-13 22:47:00 +0000" itemprop="datePublished">Aug 13, 2019</time>
        </p>
        <span class="disqus-comment-count" data-disqus-identifier="/kotlin/study/2019/08/13/Kotlin-10/"></span>     
        <div class="post-categories">
            
            Category : 
            <a href="/devlopr-starter/blog/categories/kotlin">kotlin</a>
            &nbsp; 
            <a href="/devlopr-starter/blog/categories/study">study</a>
             
        </div>
    </div>

    <div class="card-body" itemprop="articleBody">
        <img class="card-img-top" src="/assets/img/posts/" alt=""> 
        <br/> <br/>
        <h1 id="코틀린의-타입-시스템">코틀린의 타입 시스템</h1>

<h2 id="null-가능성">Null 가능성</h2>

<h3 id="null이-될-수-있는-타입">Null이 될 수 있는 타입</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int strLen(String s) {
  return s.length;
} &lt;- java, 컴파일 됨

fun strLen(s : String) = s.length &lt;- 코틀린, 컴파일 에러

fun strLen(s: String?): Int = if (s != null ) s.length else 0 
</code></pre></div></div>

<ul>
  <li>코틀린의 컴파일러는 널이 될 수 있는 타입을 인자로 넘기지 못하게 막는다</li>
  <li>이로인해 타입 뒤에 ? 을 항상 명시 해야 한다</li>
  <li>어떤 타입이던 뒤에 ? 을 명시하면 그 타입의 변수나 프로퍼티에 널을 저장 할 수 있다</li>
  <li>널이 될 수 있는 타입이 있는 타입의 변수가 있다면 그에 대해 수행할 수 있는 연산이 제한 된다</li>
  <li>널이 될 수 있는 값을 널이 될 수 없는 타입의 변수에 대입 할 수 없으며, 널이 될수있는 타입의 값을 파라미터로 전달 할 수 없다</li>
</ul>

<h3 id="안전한-호출-연산자-">안전한 호출 연산자: ?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>s?.toUpperCase()

if( s != null ) s.toUpperCase() else null
</code></pre></div></div>

<ul>
  <li>? 은 널 검사와 메소드 호출을 한번의 연산으로 수행한다</li>
  <li>호출 하려는 값이 널이 아니라면 ?. 은 일반 메소드 호출처럼 작동하며, 널일경우 널이 결과값이 된다</li>
  <li>안전한 호출의 결과도 결과값이 널 일수 있음에 주의 해야 한다</li>
  <li>이러한 안전한 호출은 연쇄 해서도 쓸 수 있다</li>
</ul>

<h3 id="엘비스-연산자-">엘비스 연산자: ?:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun foo(s: String?) {
  val t: String = s ?: ""
}
</code></pre></div></div>

<ul>
  <li>null 대신 사용할 디폴트 값을 지정 할 때 편리하게 사용 할 수 있는 연산자를 엘비스 연산자 ?: 라고 한다</li>
  <li>엘비스 연산자는 이항연산자로 좌항을 계산하여 널일경우 우항 값을 결과 값으로 한다</li>
  <li>코틀린에서 return이나 throw등의 연산도 값을 가진 식이기 때문에, 엘비스 연산의 우항에 넣을 수 있다</li>
</ul>

<h3 id="안전한-캐스트-as">안전한 캐스트: as?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class Person(val firstName: String, val lastName: String) {
  override fun equals(o: Any?) : Boolean {
    val otherPerson o as? Person ?: return false
    return otherPerson.firstName == firstname &amp;&amp;
      otherPerson.lastName == lastName
  }
}
</code></pre></div></div>

<ul>
  <li>as? 연산자는 어떤 값을 지정한 타입으로 캐스트하며, 캐스트 할 수 없는 경우는 null을 반환한다</li>
  <li>안전한 캐스트를 사용할때 가장 일반적인 경우는 캐스트 수행 후에 엘비스 연산자를 사용 하는 것이다</li>
  <li>이 둘을 조합하면 캐스트 실패시에 쉽게 예외처리를 할 수 있다</li>
</ul>

<h3 id="널-아님-단언-">널 아님 단언: !!</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun ignoreNulls(s: String?) {
  val sNotNull: String = s!!
  println(sNotNull.length)
}
</code></pre></div></div>

<ul>
  <li>!!은 코틀린에서 널이 될 수 있는 타입을 널이 될수 없는 타입으로 바꿀 수있다</li>
  <li>하지만 실제로 null을 넘길 경우 Null Pointer Exception이 발생 하지만, 해당 에러는 널이 아님을 단언하는 부분에서 발생한다</li>
  <li>!!은 근본적으로 널이 아님을 단언하지만, 잘못하여 널이 될 경우 예외가 발생함을 감수하겟다는 뜻이다</li>
  <li>이런 이유로 !!를 한줄에 여러개를 쓰는 경우는 피해야 한다</li>
</ul>

<h3 id="let함수">let함수</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>email?.let { email -&gt; sendEmailTo(email) }
</code></pre></div></div>

<ul>
  <li>let함수는 자신의 수신 객체를 인자로, 자신이 전달받은 람다에게 넘긴다</li>
  <li>let과 안전한 호출문을 사용해 null이 아닐 경우에만 람다에 넘겨 줄 수 있다</li>
  <li>널이 될 수 있는 타입에 대해 안전한 호출문을 사용해 let을 호출하되, 널이 될 수 없는 타입을 인자로 받는 람다를 let에 전달한다</li>
  <li>이렇게 하면 null이 될 수 있는 타입의 값을 null이 될수 없는 타입의 값으로 바꿔서 람다에 전달한다</li>
</ul>

<h3 id="나중에-초기화할-프로퍼티">나중에 초기화할 프로퍼티</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class MyService {
  fun performAction(): String = "foo"
}

class MyTest {
  private lateinit var myService: MyService
  
  @Before fun setUp() {
    myService = Myservice()
  }
  
  @Test fun testAction() {
    Assert.assertEquals("foo", myService.performAction())
  }
}
</code></pre></div></div>

<ul>
  <li>안드로이드의 Activity, JUnit의 @Before 등 객체 인스턴스를 일단 생성한 후에, 나중에 초기화 하는 프레임워크가 많다</li>
  <li>코틀린에서 널이 될수없는 프로퍼티를 생성자 안에서 초기화 하지 않고 특별한 메서드 안에서 초기화 할 수는 없다</li>
  <li>이를 위해 나중에 초기화 하는 lateinit 변경자가 존재한다</li>
  <li>lateinit 프로파티는 항상 var 이여야 한다</li>
</ul>

<h3 id="널이-될-수-있는-타입-확장">널이 될 수 있는 타입 확장</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun String?.isNullOrBlank(): Boolean = 
  this == null || this.isBlank()
</code></pre></div></div>

<ul>
  <li>널이 될 수 있는 타입에 대한 확장을 정의하면 널이 될 수 있는 값에 대해 그 확장 함수를 호출 할 수 있다</li>
  <li>String에 대한 isNullOrEmpty 나 isNullOrBlank 가 대표적이다</li>
  <li>이러한 함수는 널이 될 수 있는 수신 객체 타입에 대해 안전한 호출 없이도 부를 수 있으며, null을 넘겨도 적절한 처리를 한다</li>
</ul>

<h3 id="타입-파라미터의-널-가능성">타입 파라미터의 널 가능성</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fun &lt;T&gt; printHashCode(t :T) {
  println(t?.hashCOde*())
</code></pre></div></div>

<ul>
  <li>타입 파라미터 T에 대한 추론한 타입은 Any?, 즉 널이 될 수 있다</li>
  <li>따라서 t 파라미터 타입의 이름 T에는 ?가 없지만, t는 null을 받을 수 있다</li>
</ul>

<h3 id="널-가능성과-자바">널 가능성과 자바</h3>

<ul>
  <li>코틀린은 자바와의 상호 운용성을 강조하지만 자바 타입 시스템은 널 가능성을 지원하지 않는다.</li>
  <li>이러한 문제를 해결하기 위해 자바의 어노테이션에 표시된 널 가능성 정보가 있다면 코틀린도 그 정보를 사용 한다</li>
  <li>하지만 이러한 널 가능성 어노테이션이 없다면 자바의 타입은 코틀린의 플랫폼타입이 된다</li>
  <li>이러한 플랫폼 타입에 대해 컴파일러는 모든 연산을 허용하지만, null에 관한 처리는 개발자가 해야 한다</li>
</ul>

 
    </div>

    <div id="disqus_thread"></div>

</article>
<script>
    var disqus_config = function () {
        this.page.url = "https://yoowonyoung.github.io/kotlin/study/2019/08/13/Kotlin-10/"; /* Replace PAGE_URL with your page's canonical URL variable */
        this.page.identifier = "/kotlin/study/2019/08/13/Kotlin-10"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };


    (function () { /* DON'T EDIT BELOW THIS LINE */
        var d = document,
            s = d.createElement('script');
        s.src = 'https://.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript></div>
<div class="col-lg-4">
    <div class="card">
        <div class="card-header"> About </div>
        <div class="card-body text-dark">
            <!-- Your Bio -->
            <p> I'm a software Engineer and amateur photographer</p><!-- Place this tag where you want the button to render. -->
<a class="github-button" href="https://github.com/sujaykundu777/devlopr-jekyll" data-size="large" data-show-count="true" aria-label="Star sujaykundu777/devlopr-jekyll on GitHub">Star</a></div>
    </div>
    <div class="card">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- sidebar-horizontal-1 -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7259836434848202"
             data-ad-slot="7549410045"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    <div class="card">
        <div class="card-header">Categories </div>
        <div class="card-body text-dark">
             
            <div id="#guides"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/guides">guides</a>
            </li>
            <a name="guides"></a>

             
            <div id="#kotlin"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/kotlin">kotlin</a>
            </li>
            <a name="kotlin"></a>

             
            <div id="#study"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/study">study</a>
            </li>
            <a name="study"></a>

             
            <div id="#jekyll"></div>
            <li class="tag-head">
                <a href="/devlopr-starter/blog/categories/jekyll">jekyll</a>
            </li>
            <a name="jekyll"></a>

            </div>
    </div>
</div></div> <!-- End of row-->
    

    

        </div>
<footer>

    <p> Powered by<a href="https://devlopr.netlify.com/readme"> devlopr jekyll</a>. Hosted at <a href="https://pages.github.com">Github</a>. Subscribe via
        <a href="/devlopr-starter /feed.xml ">RSS</a>
    </p>

</footer>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</div>
</body>

<div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div>
<script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script>
</html>
